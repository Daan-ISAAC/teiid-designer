/* Generated By:JJTree: Do not edit this line. Reference.java Version 4.3 */
/* JavaCCOptions:MULTI=true,NODE_USES_PARSER=true,VISITOR=true,TRACK_TOKENS=false,NODE_PREFIX=,NODE_EXTENDS=,NODE_FACTORY=TeiidNodeFactory,SUPPORT_CLASS_VISIBILITY_PUBLIC=true */
package org.teiid.runtime.client.lang.ast;

import org.teiid.core.util.Assertion;
import org.teiid.runtime.client.lang.parser.TeiidParser;

public class Reference extends SimpleNode implements Expression {

    private int refIndex;

    private Class<?> type;

    private ElementSymbol expression;

    private boolean positional;

    public Reference(int id) {
        super(id);
    }

    public Reference(TeiidParser p, int id) {
        super(p, id);
    }

    public Class<?> getType() {
        if (this.isPositional() && this.expression == null) {
            return type;
        }
        return expression.getType();
    }

    public void setType(Class<?> type) {
        Assertion.assertTrue(this.positional);
        this.type = type;
    }

    public boolean isPositional() {
        return this.positional;
    }

    /**
     * @param positional the positional to set
     */
    public void setPositional(boolean positional) {
        this.positional = positional;
    }

    public ElementSymbol getExpression() {
        return this.expression;    
    }

    /**
     * @param expression the expression to set
     */
    public void setExpression(ElementSymbol expression) {
        this.expression = expression;
    }

    public int getIndex() {
        return this.refIndex;
    }

    public void setIndex(int refIndex) {
        this.refIndex = refIndex;
    }

    /** Accept the visitor. **/
    public void jjtAccept(Teiid8ParserVisitor visitor, Object data) {
        visitor.visit(this, data);
    }
}
/* JavaCC - OriginalChecksum=929474660e4f338ac928ae34c54e9019 (do not edit this line) */
